# 수업관리 웹서비스 개발 절대규칙

## 🚨 절대규칙 1: 기술 스택 및 모듈화

### 필수 기술 스택
- **Vite**: 빠른 개발환경과 모듈 번들링
- **Supabase DB**: 백엔드 데이터베이스 및 인증 시스템

### 개발 원칙
- **전역 오염 방지**: 전역방식의 오류와 오염을 최대한 줄인다
- **완전한 모듈화**: 모든 기능을 독립적인 모듈로 구성

### 모듈화 구조 규칙
```
메인 페이지 (예: 학생페이지)
├── 메뉴 1 → 독립 파일 1
├── 메뉴 2 → 독립 파일 2  
├── 메뉴 3 → 독립 파일 3
└── 메뉴 n → 독립 파일 n
```

**예시**: 학생페이지에 3개 메뉴가 있다면
- `StudentPage.jsx` (메인 역할)
- `AttendanceMenu.jsx` (출석 메뉴)
- `GradeMenu.jsx` (성적 메뉴)
- `AssignmentMenu.jsx` (과제 메뉴)

## 🚨 절대규칙 2: STRUCTURE 문서 관리

### 필수 요구사항
- **즉시 생성**: 개발 시작과 동시에 `STRUCTURE.md` 생성
- **실시간 업데이트**: 모든 구조 변경 시 즉시 문서 업데이트
- **초보자 친화적**: 코딩 초보자도 이해할 수 있는 쉬운 설명 사용

### STRUCTURE.md 포함 내용
1. **현재 프로젝트 구조**: 폴더/파일 트리 구조
2. **업데이트 내역**: 언제, 무엇이, 왜 변경되었는지
3. **각 파일의 역할**: 파일별 기능과 책임 설명
4. **의존성 관계**: 파일 간 연결 관계 명시

### 문서 작성 원칙
- README.md와 유사하지만 **구조 파악에 집중**
- 기술적 세부사항보다는 **전체적인 구조 이해**에 중점
- 나중에 프로젝트를 다시 볼 때 **빠른 파악**이 가능하도록 작성

## 🚨 절대규칙 3: JSDoc 주석 작성

### JSDoc 필수 작성 대상

1. **복잡한 비즈니스 로직**
   - 포인트 계산/한도 체크 (일일 20개, 자정 초기화)
   - 도움 시스템 상태 전환 (빨강→파랑→포인트 지급)
   - 실시간 동기화 처리 (20초/30초/40분 간격)
   - 세션 관리 및 만료 처리

2. **외부 API 연동**
   - Supabase CRUD 및 Realtime 구독
   - 인증/세션 검증 함수
   - 네트워크 오류 재시도 로직

3. **재사용 유틸리티**
   - 학급 텍스트 파싱 ("3-1" → 3학년 1반)
   - 한국시간 처리 (자정 초기화, 세션 타이머)
   - 링크 추출/변환, 입력 검증

4. **메인 모듈 컴포넌트**
   - 각 Module 최상위 컴포넌트
   - 복잡한 상태 관리 컴포넌트

### JSDoc 작성 원칙
- **간결성**: 코드보다 주석이 길면 안됨
- **목적 중심**: "왜 이렇게 하는가" 중심으로 작성
- **AI 친화적**: AI가 나중에 이해할 수 있을 정도로만 작성

## ⚠️ 준수 사항

### AI 개발 시 주의점
- 새로운 대화 시작 시 반드시 이 규칙들을 확인
- 규칙 위반 시 즉시 수정 요구
- 모든 코드 생성 전 규칙 준수 여부 검토

### 개발자 체크리스트
- [ ] Vite + Supabase 사용 확인
- [ ] 모듈화 구조 적용 확인  
- [ ] STRUCTURE.md 업데이트 완료
- [ ] 전역 오염 방지 확인
- [ ] 초보자도 이해 가능한 문서 작성
- [ ] JSDoc 주석 작성 완료 (복잡한 로직, API 연동, 유틸리티, 메인 모듈)

---
**마지막 업데이트**: 2025-10-02
**작성자**: 이창건
**목적**: AI 단기기억 한계 극복 및 일관된 개발 방향 유지
